<template>
  <div class="w-100 h-100 ma-0">
    <v-container fluid>
      <div class="d-flex align-center mb-5">
        <v-btn
          icon
          variant="outlined"
          color="blue"
          class="mr-3"
          @click="voltarParaLista"
        >
          <v-icon>mdi-arrow-left</v-icon>
        </v-btn>
        <h1 class="text-h5 font-weight-bold">Detalhes do Paciente</h1>
      </div>

      <v-row v-if="loading">
        <v-col cols="12" md="5">
          <v-skeleton-loader type="card" />
        </v-col>
        <v-col cols="12" md="7">
          <v-skeleton-loader type="card" />
        </v-col>
        <v-col cols="12">
          <v-skeleton-loader type="card" />
        </v-col>
        <v-col cols="12">
          <v-skeleton-loader type="card" />
        </v-col>
      </v-row>

      <v-row v-else-if="paciente">
        <v-col cols="12" lg="5">
          <v-card rounded="lg" variant="outlined" color="blue">
            <div
              class="bg-blue pa-4 d-flex flex-column flex-md-row ga-2 justify-space-between align-center"
            >
              <div class="">
                <v-card-title
                  class="text-white pa-0 text-subtitle-1 d-flex align-center flex-column flex-md-row"
                >
                  <v-icon class="mr-md-2">mdi-account</v-icon>
                  Informações Pessoais
                </v-card-title>
              </div>
              <div class="d-flex ga-1">
                <span
                  class="bg-white px-2 rounded-lg d-flex align-center justify-center"
                  ><v-icon color="blue" size="18">mdi-star</v-icon>
                  <strong class="ml-1">0</strong></span
                >
                <span
                  class="bg-white px-2 rounded-lg d-flex align-center justify-center"
                  ><v-icon color="blue" size="18"
                    >mdi-chat-processing-outline</v-icon
                  >
                  <strong class="ml-1">0</strong></span
                >
              </div>
            </div>

            <v-card-text class="pa-4">
              <div class="text-center mb-4">
                <v-avatar size="150">
                  <v-img
                    v-if="paciente.usuario?.avatarUrl"
                    :src="paciente.usuario.avatarUrl"
                    :alt="paciente.usuario?.nome"
                  />
                  <v-icon v-else size="150">mdi-account-circle</v-icon>
                </v-avatar>
              </div>

              <div class="mb-3">
                <strong class="text-black">Nome:</strong>
                <span class="text-black ml-1">{{
                  paciente.usuario?.nome || 'N/A'
                }}</span>
              </div>
              <div class="mb-3">
                <strong class="text-black">Email:</strong>
                <span class="text-black ml-1">{{
                  paciente.usuario?.email || 'N/A'
                }}</span>
              </div>
              <div class="mb-3">
                <strong class="text-black">Idade:</strong>
                <span class="text-black ml-1"
                  >{{ calcularIdade(paciente.dataNascimento) }} anos</span
                >
              </div>
              <div class="mb-3" v-if="temLicencaAtiva">
                <strong class="text-black">Certificado:</strong>
                <span class="text-green ml-1 d-inline-flex align-center justify-center">
                  <v-icon color="success" size="18" class="mr-1">mdi-check-circle</v-icon>
                  Ativo
                </span>
              </div>
              
            </v-card-text>
          </v-card>
        </v-col>

        <v-col cols="12" lg="7">
          <v-card rounded="lg" variant="outlined" color="blue">
            <div class="pa-4 bg-blue d-flex align-center">
              <v-card-title
                class="text-white text-subtitle-2 text-md-subtitle-1 pa-0"
              >
                <v-icon class="mr-2">mdi-clipboard-text</v-icon>
                Informações Médicas
              </v-card-title>
            </div>

            <v-card-text class="pa-4">
              <v-row>
                <v-col cols="12" md="6">
                  <div class="mb-3">
                    <strong class="text-black">Altura:</strong>
                    <span class="text-black ml-1">{{
                      paciente.altura ? `${paciente.altura} cm` : 'N/A'
                    }}</span>
                  </div>
                  <div class="mb-3">
                    <strong class="text-black">Peso:</strong>
                    <span class="text-black ml-1">{{
                      paciente.peso ? `${paciente.peso} kg` : 'N/A'
                    }}</span>
                  </div>
                  <div class="mb-3">
                    <strong class="text-black">Gênero:</strong>
                    <span class="text-black ml-1">{{
                      paciente.genero || 'N/A'
                    }}</span>
                  </div>
                </v-col>
                <v-col cols="12" md="6">
                  <div class="mb-3">
                    <strong class="text-black">Telefone:</strong>
                    <span class="text-black ml-1">{{
                      formatarTelefone(paciente.telefone) || 'N/A'
                    }}</span>
                  </div>
                  <div class="mb-3">
                    <strong class="text-black">Tipo Sanguíneo:</strong>
                    <span class="text-black ml-1">{{
                      paciente.tipoSanguineo || 'N/A'
                    }}</span>
                  </div>
                  <div class="mb-3">
                    <strong class="text-black">Data de Nascimento:</strong>
                    <span class="text-black ml-1">{{
                      formatarData(paciente.dataNascimento)
                    }}</span>
                  </div>
                </v-col>
              </v-row>
            </v-card-text>
          </v-card>
          <v-col cols="12" class="pa-0 mt-5">
            <v-card variant="outlined" rounded="lg" color="blue">
              <div class="d-flex align-center pa-4 bg-blue">
                <v-icon size="24" color="white" class="mr-2"
                  >mdi-clipboard-plus-outline</v-icon
                >
                <v-card-title
                  class="text-white text-subtitle-2 text-md-subtitle-1 pa-0"
                  >Adicionar Consultas</v-card-title
                >
              </div>
              <div class="">
                <v-card-text>
                  <v-row>
                    <v-col class="d-flex align-center py-2 py-lg-4" cols="12">
                      <v-btn
                        class="text-subtitle-2 text-md-subtitle-1"
                        block
                        color="blue"
                        variant="outlined"
                        @click="
                          $router.push({
                            name: '/adicionarConsulta/',
                            query: { pacienteId: paciente.id },
                          })
                        "
                      >
                        <v-icon left>mdi-stethoscope</v-icon>
                        Adicionar Consulta
                      </v-btn>
                    </v-col>
                    <v-col class="d-flex align-center py-0 pb-2" cols="12">
                      <v-btn
                        class="text-subtitle-2 text-md-subtitle-1"
                        block
                        color="blue"
                        variant="outlined"
                        @click="
                          $router.push({
                            name: '/analises/',
                            query: { pacienteId: paciente.id },
                          })
                        "
                      >
                        <v-icon left>mdi-flask-outline</v-icon>
                        Análises
                      </v-btn>
                    </v-col>
                  </v-row>
                </v-card-text>
              </div>
            </v-card>
          </v-col>
        </v-col>
      </v-row>

      <v-row v-if="!loading && paciente">
        <v-col cols="12" md="12">
          <v-card rounded="lg" variant="outlined" color="blue">
            <div
              class="pa-4 bg-blue d-flex align-center cursor-pointer"
              @click="toggleHistoricoMedico"
            >
              <v-card-title
                class="text-white text-subtitle-1 pa-0 d-flex align-center w-100 text-center"
              >
                <v-spacer />
                <v-icon class="mr-2">mdi-clipboard-pulse-outline</v-icon>
                Histórico Médico
                <v-spacer />
                <v-icon class="ml-2">
                  {{
                    historicoMedicoExpanded
                      ? 'mdi-chevron-up'
                      : 'mdi-chevron-down'
                  }}
                </v-icon>
              </v-card-title>
            </div>

            <v-expand-transition>
              <v-card-text v-show="historicoMedicoExpanded" class="pa-0">
                <v-list>
                  <v-list-item
                    v-for="(item, index) in consultas"
                    :key="index"
                    class="px-4 py-2 cursor-pointer list-item-hover"
                    @click="abrirModalExame(item)"
                  >
                    <template #prepend>
                      <v-icon color="blue"> mdi-stethoscope </v-icon>
                    </template>

                    <v-list-item-title class="font-weight-medium">
                      {{ item.medico?.usuario?.nome || 'Médico não informado' }}
                    </v-list-item-title>

                    

                    <v-list-item-subtitle>
                      {{
                        item.medico?.especializacao ||
                        'Especialização não informada'
                      }}
                    </v-list-item-subtitle> 

                    <template #append>
                      <div class="d-flex align-center ga-2">
                        <v-chip
                          style="min-width: 120px; max-width: 120px; justify-content: center;"
                          v-if="item?.situacao"
                          size="small"
                          variant="flat"
                          :color="getSituacaoColor(item.situacao)"
                          :class="getSituacaoClass(item.situacao)"
                        >
                          {{ item.situacao }}
                        </v-chip>
                        <v-chip
                          size="small"
                          variant="outlined"
                          class="d-none d-sm-flex"
                        >
                          {{ formatarData(item.createdAt) }}
                        </v-chip>
                        <v-btn
                          :icon="
                            item.favorito ? 'mdi-heart' : 'mdi-heart-outline'
                          "
                          :color="item.favorito ? 'red' : 'grey'"
                          variant="text"
                          size="small"
                          @click.stop="toggleFavorito(item)"
                        />
                      </div>
                    </template>
                  </v-list-item>

                  <v-list-item
                    v-if="consultas.length === 0"
                    class="text-center py-8"
                  >
                    <v-list-item-title class="text-grey">
                      Nenhum histórico médico encontrado
                    </v-list-item-title>
                  </v-list-item>
                </v-list>
              </v-card-text>
            </v-expand-transition>
          </v-card>
        </v-col>
      </v-row>

      <v-row v-if="!loading && paciente">
        <v-col cols="12" md="12">
          <v-card rounded="lg" variant="outlined" color="blue">
            <div
              class="pa-4 bg-blue d-flex align-center cursor-pointer"
              @click="toggleAlergias"
            >
              <v-card-title
                class="text-white text-subtitle-1 pa-0 d-flex align-center w-100 text-center"
              >
                <v-spacer />
                <v-icon class="mr-2">mdi-alert-circle-outline</v-icon>
                Alergias
                <v-spacer />
                <v-icon class="ml-2">
                  {{ alergiasExpanded ? 'mdi-chevron-up' : 'mdi-chevron-down' }}
                </v-icon>
              </v-card-title>
            </div>

            <v-expand-transition>
              <v-card-text v-show="alergiasExpanded" class="pa-0">
                <v-list>
                  <template v-if="loadingAlergias">
                    <v-list-item v-for="n in 3" :key="n" class="px-4 py-2">
                      <v-skeleton-loader type="list-item-two-line" />
                    </v-list-item>
                  </template>

                  <template v-else>
                    <v-list-item
                      v-for="(alergia, index) in alergias"
                      :key="index"
                      class="px-4 py-2"
                    >
                      <template #prepend>
                        <v-icon color="blue">mdi-alert-circle</v-icon>
                      </template>

                      <v-list-item-title class="font-weight-medium">
                        {{ alergia.titulo || 'Alergia sem título' }}
                      </v-list-item-title>

                      <v-list-item-subtitle>
                        {{ alergia.descricao || 'Sem descrição' }}
                      </v-list-item-subtitle>

                      <template #append>
                        <v-chip size="small" variant="outlined">
                          {{ formatarData(alergia.createdAt) }}
                        </v-chip>
                      </template>
                    </v-list-item>

                    <v-list-item
                      v-if="alergias.length === 0"
                      class="text-center py-8"
                    >
                      <v-list-item-title class="text-grey">
                        Nenhuma alergia registrada
                      </v-list-item-title>
                    </v-list-item>
                  </template>
                </v-list>
              </v-card-text>
            </v-expand-transition>
          </v-card>
        </v-col>
      </v-row>
    </v-container>

    <v-dialog v-model="modalCertificarAtleta" max-width="600px" rounded="lg">
      <v-card>
        <v-card-title class="bg-blue text-white pa-4">
          <v-icon class="mr-2">mdi-certificate</v-icon>
          Certificar Atleta
        </v-card-title>
        <v-card-text class="pa-4">
          <v-form>
            <v-select
              label="Meses de Validade"
              v-model="opcaoMesesValidade"
              :items="opcoesMeses"
              item-title="text"
              item-value="value"
              variant="outlined"
              :class="{ 'mb-3': opcaoMesesValidade === 'outro' }"
            />
            <v-text-field 
              v-if="opcaoMesesValidade === 'outro'"
              label="Informe a quantidade de meses" 
              v-model.number="mesesValidadeCustomizado" 
              type="number"
              variant="outlined"
              :rules="[v => !v || (v >= 1 && v <= 24) || 'Informe um valor entre 1 e 24 meses']"
              v-maska="'##'"
              hint="Informe quantos meses o certificado estará válido (máximo 24)"
            />
          </v-form>
        </v-card-text>
        <v-card-actions class="pa-4">
          <v-btn color="grey" variant="outlined" @click="fecharModalCertificacao">
            Cancelar
          </v-btn>
          <v-btn color="blue" variant="flat" @click="salvarCertificacao" :loading="loading">
            Certificar
          </v-btn>
        </v-card-actions>
      </v-card>
    </v-dialog>
    
    <v-dialog v-model="modalExame" max-width="600px" rounded="lg">
      <v-card v-if="exameSelecionado">
        <v-card-title
          :class="exameSelecionado.tipo === 'consulta' ? 'bg-blue' : 'bg-green'"
          class="text-white pa-4"
        >
          <v-icon class="mr-2">{{
            exameSelecionado.tipo === 'consulta'
              ? 'mdi-stethoscope'
              : 'mdi-pill'
          }}</v-icon>
          {{ exameSelecionado.medico?.usuario?.nome || 'Médico' }} -
          {{ exameSelecionado.medico?.especializacao || 'Especialização' }}
        </v-card-title>

        <v-card-text class="pa-0">
          <div class="pa-4 border-b">
            <v-row>
              <v-col cols="6">
                <div class="d-flex align-center mb-2">
                  <v-icon color="blue" class="mr-2">mdi-calendar</v-icon>
                  <div>
                    <div class="text-caption text-grey">Data da Consulta</div>
                    <div class="font-weight-medium">
                      {{ formatarData(exameSelecionado.createdAt) }}
                    </div>
                  </div>
                </div>
              </v-col>
              <v-col cols="6">
                <div class="d-flex align-center mb-2">
                  <v-icon
                    :color="
                      exameSelecionado.tipo === 'consulta' ? 'blue' : 'green'
                    "
                    class="mr-2"
                  >
                    {{
                      exameSelecionado.tipo === 'consulta'
                        ? 'mdi-stethoscope'
                        : 'mdi-pill'
                    }}
                  </v-icon>
                  <div>
                    <div class="text-caption text-grey">Tipo</div>
                    <div class="font-weight-medium text-capitalize">
                      Consulta
                    </div>
                  </div>
                </div>
              </v-col>
            </v-row>
          </div>

          <div class="pa-4 border-b">
            <div class="d-flex align-start">
              <v-icon color="orange" class="mr-2 mt-1"
                >mdi-clipboard-pulse</v-icon
              >
              <div class="flex-grow-1">
                <div class="text-subtitle-2 mb-2">Diagnóstico</div>
                <p
                  class="text-body-2 mb-0"
                  style="word-break: break-word; overflow-wrap: break-word"
                >
                  {{ exameSelecionado.diagnostico }}
                </p>
              </div>
            </div>
          </div>

          <div
            v-if="exameSelecionado.medicamentosReceitados"
            class="pa-4 border-b"
          >
            <div class="d-flex align-start">
              <v-icon color="green" class="mr-2 mt-1">mdi-pill</v-icon>
              <div class="flex-grow-1">
                <div class="text-subtitle-2 mb-2">Medicamentos Receitados</div>
                <p
                  class="text-body-2 mb-0"
                  style="word-break: break-word; overflow-wrap: break-word"
                >
                  {{ exameSelecionado.medicamentosReceitados }}
                </p>
              </div>
            </div>
          </div>

          <div v-if="exameSelecionado.situacao" class="pa-4">
            <div class="d-flex align-start">
              <v-icon color="purple" class="mr-2 mt-1">mdi-note-text</v-icon>
              <div class="flex-grow-1">
                <div class="text-subtitle-2 mb-2">Situação</div>
                <p
                  class="text-body-2 mb-0"
                  style="word-break: break-word; overflow-wrap: break-word"
                >
                  {{ exameSelecionado.situacao }}
                </p>
              </div>
            </div>
          </div>

          <div v-if="exameSelecionado.situacao == 'Concluido'" class="pa-4">
            <div class="d-flex align-start">
              <div class="flex-grow-1">
                <div class="">
                <v-btn
                  class="text-subtitle-1"
                  block
                  color="blue"
                  variant="outlined"
                  :disabled="temLicencaAtiva"
                  @click="certificarAtleta"
                >
                  <v-icon class="mr-2">mdi-certificate</v-icon>
                  Certificar atleta
                </v-btn>
                <v-alert
                  v-if="temLicencaAtiva"
                  type="warning"
                  variant="tonal"
                  density="compact"
                  class="mt-2"
                >
                  Este atleta já possui uma certificado ativo. Não é possível emitir um novo certificado.
                </v-alert>
              </div>
              </div>
            </div>
          </div>
        </v-card-text>

        <v-card-actions class="pa-4">
          <v-spacer />
          <v-btn color="blue" variant="outlined" @click="modalExame = false">
            Fechar
          </v-btn>
        </v-card-actions>
      </v-card>
    </v-dialog>
  </div>
</template>

<script setup>
import { ref, onMounted, computed } from 'vue'
import { useRouter, useRoute } from 'vue-router'
import atletaService from '@/services/atleta/atleta-service'
import consultasService from '@/services/consultas/consultas-service'
import alergiasService from '@/services/alergias/alergias-service'
import licencaCertificadoService from '@/services/licenca-certificado/licenca-certificado-service'
import { getMedicoId } from '@/utils/auth'
import { vMaska } from 'maska/vue'
import { toast } from 'vue3-toastify'
import dayjs from 'dayjs'

const router = useRouter()
const route = useRoute()

const paciente = ref(null)
const loading = ref(true)
const historicoMedicoExpanded = ref(false)
const alergiasExpanded = ref(true)
const modalExame = ref(false)
const exameSelecionado = ref(null)
const consultas = ref([])
const alergias = ref([])
const loadingAlergias = ref(true)
const licenca = ref([])
const modalCertificarAtleta = ref(false)
const opcaoMesesValidade = ref(null)
const mesesValidadeCustomizado = ref(null)

const opcoesMeses = [
  { text: '1 mês', value: 1 },
  { text: '3 meses', value: 3 },
  { text: '6 meses', value: 6 },
  { text: 'Outro', value: 'outro' }
]

const calcularIdade = (dataNascimento) => {
  if (!dataNascimento) return 'N/A'
  const hoje = new Date()
  const nascimento = new Date(dataNascimento)
  let idade = hoje.getFullYear() - nascimento.getFullYear()
  const mes = hoje.getMonth() - nascimento.getMonth()
  if (mes < 0 || (mes === 0 && hoje.getDate() < nascimento.getDate())) {
    idade--
  }
  return idade
}



const formatarData = (data) => {
  if (!data) return 'N/A'
  return new Date(data).toLocaleDateString('pt-BR')
}

const formatarTelefone = (telefone) => {
  if (!telefone) return null
  const numero = telefone.replace(/\D/g, '')
  if (numero.length === 11) {
    return numero.replace(/(\d{2})(\d{5})(\d{4})/, '($1) $2-$3')
  } else if (numero.length === 10) {
    return numero.replace(/(\d{2})(\d{4})(\d{4})/, '($1) $2-$3')
  }
  return telefone
}

const getSituacaoColor = (situacao) => {
  if (!situacao) return 'grey'
  const situacaoLower = situacao.toLowerCase()
  if (situacaoLower.includes('concluido') || situacaoLower.includes('concluído')) {
    return 'success'
  } else if (situacaoLower.includes('pendente')) {
    return 'warning'
  } else if (situacaoLower.includes('recusado')) {
    return 'error'
  } else if (situacaoLower.includes('ematendimento') || situacaoLower.includes('em atendimento')) {
    return 'info'
  }
  return 'primary'
}

const getSituacaoClass = (situacao) => {
  return 'font-weight-medium'
}

const certificarAtleta = () => {
  opcaoMesesValidade.value = 1
  mesesValidadeCustomizado.value = null
  modalCertificarAtleta.value = true
}

const fecharModalCertificacao = () => {
  modalCertificarAtleta.value = false
  opcaoMesesValidade.value = null
  mesesValidadeCustomizado.value = null
}

const salvarCertificacao = async () => {
  if (!opcaoMesesValidade.value) {
    alert('Por favor, selecione a validade do certificado.')
    return
  }

  let mesesValidade = 0
  if (opcaoMesesValidade.value === 'outro') {
    const meses = Number(mesesValidadeCustomizado.value)
    if (!mesesValidadeCustomizado.value || meses < 1) {
      alert('Por favor, informe a quantidade de meses válida (mínimo 1).')
      return
    }
    if (meses > 24) {
      alert('Por favor, informe uma quantidade de meses válida (máximo 24).')
      return
    }
    mesesValidade = meses
  } else {
    mesesValidade = opcaoMesesValidade.value
  }
  try {
    loading.value = true
    await licencaCertificadoService.postLicencaCertificado({
      atletaId: paciente.value.id,
      medicoId: getMedicoId(),
      validade: dayjs().add(mesesValidade, 'month').toISOString(),
      ativo: true
    }).then((resp)=> {
      if(resp.success){
        toast.success('Certificado emitido com sucesso!')
        fecharModalCertificacao()
        loading.value = false
        buscarLicencaPorAtletaId( route.params.id || route.query.id)
      }
    })
    
  } catch (error) {
    toast.error(error.response.data.message)
    loading.value = false
  }
}

const voltarParaLista = () => {
  router.back()
}

const toggleHistoricoMedico = () => {
  historicoMedicoExpanded.value = !historicoMedicoExpanded.value
}

const toggleAlergias = () => {
  alergiasExpanded.value = !alergiasExpanded.value
}

const abrirModalExame = (item) => {
  exameSelecionado.value = item
  modalExame.value = true
}

const toggleFavorito = (item) => {
  item.favorito = !item.favorito
}

const findAllConsultas = async (id) => {
  try {
    const response = await consultasService.getConsultasByAtletaId(id)
    if (response && response.data) {
      consultas.value = response.data
    } else {
      consultas.value = response
    }
  } catch (error) {
    if (error.response?.status === 404) {
      consultas.value = []
    } else {
      console.error('Erro ao buscar consultas:', error)
      consultas.value = []
    }
  }
}

const findAllAlergias = async (id) => {
  try {
    loadingAlergias.value = true
    const response = await alergiasService.getAlergiaAtletaId(id)
    if (response && response.data) {
      alergias.value = response.data
    } else {
      alergias.value = response
    }
  } catch (error) {
    if (error.response?.status === 404) {
      alergias.value = []
    } else {
      console.error('Erro ao buscar alergias:', error)
      alergias.value = []
    }
  } finally {
    loadingAlergias.value = false
  }
}

const buscarLicencaPorAtletaId = async (id) => {
    try {
      const response = await licencaCertificadoService.getByAtletaId(id)
      
      if (response && response.data && Array.isArray(response.data)) {
        licenca.value = response.data
      } else if (response && response.data) {
        licenca.value = [response.data]
      } else {
        licenca.value = []
      }
    }
      catch (error) {
      toast.error(error.response.data.message)
      loading.value = false
  }
}

const temLicencaAtiva = computed(() => {
  if (!licenca.value || !Array.isArray(licenca.value)) {
    return false
  }
  return licenca.value.some(item => item.ativo === true)
})

const buscarPaciente = async (id) => {
  try {
    loading.value = true
    const response = await atletaService.getAtletaById(id)

    if (response && response.data) {
      paciente.value = response.data
    } else {
      paciente.value = response
    }
  } catch (error) {
    console.error('Erro ao buscar paciente:', error)
    console.error('Detalhes do erro:', error.response || error)
    paciente.value = null
  } finally {
    loading.value = false
  }
}

onMounted(async () => {
  const pacienteId = route.params.id || route.query.id

  if (pacienteId) {
     buscarPaciente(pacienteId)
     findAllConsultas(pacienteId)
     findAllAlergias(pacienteId)
     buscarLicencaPorAtletaId(pacienteId)
  } else {
    console.error('ID do paciente não encontrado na rota')
    loading.value = false
  }
})
</script>

<style scoped>
.v-card-title {
  font-weight: bold;
}

.cursor-pointer {
  cursor: pointer;
}

.list-item-hover {
  transition: all 0.2s ease;
  border-radius: 8px;
}

.list-item-hover:hover {
  background-color: rgba(33, 150, 243, 0.08) !important;
  transform: translateX(4px);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.border-b {
  border-bottom: 1px solid rgba(0, 0, 0, 0.12);
}
</style>

